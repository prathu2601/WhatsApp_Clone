{"code":"(this.webpackJsonpWhatsApp_Clone=this.webpackJsonpWhatsApp_Clone||[]).push([[0],{71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){\"use strict\";a.r(t);var c=a(2),s=a.n(c),n=a(30),i=a.n(n),r=(a(71),a(14)),o=(a(72),a(73),a(33)),j=o.a.initializeApp({apiKey:\"AIzaSyCA1K6ngVg2AynVVQk4Ou9Ug2aA05AR8p8\",authDomain:\"whatsappclone-a5c27.firebaseapp.com\",projectId:\"whatsappclone-a5c27\",storageBucket:\"whatsappclone-a5c27.appspot.com\",messagingSenderId:\"877988151754\",appId:\"1:877988151754:web:4bc313a9c07d027c0a4f33\",measurementId:\"G-80FMR6MTY2\"}).firestore(),d=o.a.auth(),l=new o.a.auth.GoogleAuthProvider,b=j,h=(a(78),a(34)),u=a(107),m=a(4);var O=function(e){var t,a=e.id,s=e.name,n=e.addNewChat,i=Object(c.useState)(\"\"),o=Object(r.a)(i,2),j=o[0],d=o[1];return Object(c.useEffect)((function(){a&&b.collection(\"rooms\").doc(a).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){d(e.docs.map((function(e){return e.data()})))}))}),[a]),n?Object(m.jsx)(\"div\",{className:\"sidebarChat\",onClick:function(){var e=prompt(\"Please enter name for Chat room :- \");e&&b.collection(\"rooms\").add({name:e})},children:Object(m.jsx)(\"h2\",{children:\"Add New Chat\"})}):Object(m.jsx)(h.b,{to:\"/rooms/\".concat(a),children:Object(m.jsxs)(\"div\",{className:\"sidebarChat\",children:[Object(m.jsx)(u.a,{src:\"https://avatars.dicebear.com/api/avataaars/Mouth=['smile']\".concat(5e3*Math.random(),\".svg\")}),Object(m.jsxs)(\"div\",{className:\"sidebarChat__info\",children:[Object(m.jsx)(\"h2\",{children:s}),Object(m.jsx)(\"p\",{children:null===(t=j[0])||void 0===t?void 0:t.message})]})]})})},p=a(105),x=a(57),v=a.n(x),f=a(58),g=a.n(f),_=a(45),N=a.n(_),S=a(46),C=a.n(S),y=Object(c.createContext)(),w=function(e){var t=e.reducer,a=e.initialState,s=e.children;return Object(m.jsx)(y.Provider,{value:Object(c.useReducer)(t,a),children:s})},A=function(){return Object(c.useContext)(y)};var I=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],s=t[1],n=A(),i=Object(r.a)(n,2),o=i[0].user;return i[1],Object(c.useEffect)((function(){var e=b.collection(\"rooms\").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),Object(m.jsxs)(\"div\",{className:\"sidebar\",children:[Object(m.jsxs)(\"div\",{className:\"sidebar__header\",children:[Object(m.jsx)(u.a,{src:null===o||void 0===o?void 0:o.photoURL}),Object(m.jsxs)(\"div\",{className:\"sidebar__headerRight\",children:[Object(m.jsx)(p.a,{children:Object(m.jsx)(v.a,{})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(g.a,{})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(N.a,{})})]})]}),Object(m.jsx)(\"div\",{className:\"sidebar__search\",children:Object(m.jsxs)(\"div\",{className:\"sidebar__searchContainer\",children:[Object(m.jsx)(C.a,{}),Object(m.jsx)(\"input\",{placeholder:\"Search or Start new chat\",type:\"text\"})]})}),Object(m.jsxs)(\"div\",{className:\"sidebar__chat\",children:[Object(m.jsx)(O,{addNewChat:!0}),a.map((function(e){return Object(m.jsx)(O,{id:e.id,name:e.data.name},e.id)}))]})]})},k=a(59),M=a.n(k),R=a(60),W=a.n(R),D=a(61),E=a.n(D),T=(a(88),a(10));var U=function(){var e,t,a=Object(c.useState)(\"\"),s=Object(r.a)(a,2),n=s[0],i=s[1],j=Object(c.useState)(\"\"),d=Object(r.a)(j,2),l=d[0],h=d[1],O=Object(c.useState)(\"\"),x=Object(r.a)(O,2),v=x[0],f=x[1],g=Object(c.useState)([]),_=Object(r.a)(g,2),S=_[0],y=_[1],w=Object(T.f)().roomId,I=A(),k=Object(r.a)(I,2),R=k[0].user;return k[1],Object(c.useEffect)((function(){w&&b.collection(\"rooms\").doc(w).onSnapshot((function(e){return f(e.data().name)})),h(Math.floor(5e3*Math.random())),b.collection(\"rooms\").doc(w).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return y(e.docs.map((function(e){return e.data()})))}))}),[w]),Object(m.jsxs)(\"div\",{className:\"chat\",children:[Object(m.jsxs)(\"div\",{className:\"chat__header\",children:[Object(m.jsx)(u.a,{src:\"https://avatars.dicebear.com/api/avataaars/Mouth=['smile']\".concat(l,\".svg\")}),Object(m.jsxs)(\"div\",{className:\"chat__headerInfo\",children:[Object(m.jsx)(\"h3\",{children:v}),Object(m.jsxs)(\"p\",{children:[\"Last seen \",\" \",new Date(null===(e=S[S.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()]})]}),Object(m.jsxs)(\"div\",{className:\"chat__headerRight\",children:[Object(m.jsx)(p.a,{children:Object(m.jsx)(C.a,{})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(M.a,{})}),Object(m.jsx)(p.a,{children:Object(m.jsx)(N.a,{})})]})]}),Object(m.jsx)(\"div\",{className:\"chat__body\",children:S.map((function(e){var t;return Object(m.jsxs)(\"p\",{className:\"chat__message \".concat(e.name===R.displayName&&\"chat__reciver\"),children:[Object(m.jsx)(\"span\",{className:\"chat__name\",children:e.name}),e.message,Object(m.jsx)(\"span\",{className:\"chat__timestamp\",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()})]})}))}),Object(m.jsxs)(\"div\",{className:\"chat__footer\",children:[Object(m.jsx)(W.a,{}),Object(m.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),console.log(n),b.collection(\"rooms\").doc(w).collection(\"messages\").add({message:n,name:R.displayName,timestamp:o.a.firestore.FieldValue.serverTimestamp()}),i(\"\")},type:\"submit\",children:[Object(m.jsx)(\"input\",{value:n,onChange:function(e){i(e.target.value)},placeholder:\"Type a message\",type:\"text\"}),Object(m.jsx)(\"button\",{children:\"Send\"})]}),Object(m.jsx)(E.a,{})]})]})},B=a(62),P=(a(89),a(106)),V=a(50),G=\"SET_USER\",z=function(e,t){return t.type===G?Object(V.a)(Object(V.a)({},e),{},{user:t.user}):e};var F=function(){var e=A(),t=Object(r.a)(e,2);Object(B.a)(t[0]);var a=t[1];return Object(m.jsx)(\"div\",{className:\"login\",children:Object(m.jsxs)(\"div\",{className:\"login__container\",children:[Object(m.jsx)(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/200px-WhatsApp.svg.png\",alt:\"\"}),Object(m.jsx)(\"div\",{className:\"login__text\",children:\"Sign in to WhatsApp\"}),Object(m.jsx)(P.a,{onClick:function(){d.signInWithPopup(l).then((function(e){a({type:G,user:e.user})})).catch((function(e){return alert(e.message)}))},children:\"Sign In With Google\"})]})})};var J=function(){var e=A(),t=Object(r.a)(e,2),a=t[0].user;return t[1],Object(m.jsx)(\"div\",{className:\"app\",children:a?Object(m.jsx)(\"div\",{className:\"app__body\",children:Object(m.jsxs)(h.a,{children:[Object(m.jsx)(I,{}),Object(m.jsxs)(T.c,{children:[Object(m.jsx)(T.a,{path:\"/rooms/:roomId\",children:Object(m.jsx)(U,{})}),Object(m.jsx)(T.a,{path:\"/\",children:Object(m.jsx)(U,{})})]})]})}):Object(m.jsx)(F,{})})};i.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(w,{initialState:{user:null},reducer:z,children:Object(m.jsx)(J,{})})}),document.getElementById(\"root\"))}},[[91,1,2]]]);","name":"static/js/main.95ffb1cb.chunk.js","map":{"version":3,"sources":["static/js/main.95ffb1cb.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","index_esm","db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","Avatar","jsx_runtime","components_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","onClick","roomName","prompt","add","children","to","concat","src","Math","random","message","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","Search","Search_default","StateContext","StateProvider_StateProvider","reducer","initialState","Provider","value","StateProvider_useStateValue","components_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsubscribe","photoURL","a","placeholder","type","room","AttachFile","AttachFile_default","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","react_router","src_components_Chat","_messages","_messages$timestamp","input","setInput","_useState3","_useState4","seed","setSeed","_useState5","_useState6","setRoomName","_useState7","_useState8","roomId","floor","Date","length","timestamp","toDate","toUTCString","_message$timestamp","displayName","onSubmit","e","preventDefault","console","log","FieldValue","serverTimestamp","onChange","target","objectDestructuringEmpty","Button","objectSpread2","actionTypes","components_reducer","state","action","components_Login","dispatch","alt","signInWithPopup","then","result","catch","error","alert","src_App","path","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpWhatsApp_Clone\"] = this[\"webpackJsonpWhatsApp_Clone\"] || []).push([[0],{\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(30);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./src/components/Sidebar.css\nvar Sidebar = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 9 modules\nvar index_esm = __webpack_require__(33);\n\n// CONCATENATED MODULE: ./src/firebase.js\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:'AIzaSyCA1K6ngVg2AynVVQk4Ou9Ug2aA05AR8p8',authDomain:'whatsappclone-a5c27.firebaseapp.com',projectId:'whatsappclone-a5c27',storageBucket:'whatsappclone-a5c27.appspot.com',messagingSenderId:'877988151754',appId:'1:877988151754:web:4bc313a9c07d027c0a4f33',measurementId:'G-80FMR6MTY2'};var firebaseApp=index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=firebaseApp.firestore();var auth=index_esm[\"a\" /* default */].auth();var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();/* harmony default export */ var firebase = (db);\n// EXTERNAL MODULE: ./src/components/SidebarChat.css\nvar SidebarChat = __webpack_require__(78);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(107);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/components/SidebarChat.js\nfunction SidebarChat_SidebarChat(_ref){var _messages$;var id=_ref.id,name=_ref.name,addNewChat=_ref.addNewChat;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),messages=_useState2[0],setMessages=_useState2[1];Object(react[\"useEffect\"])(function(){if(id){firebase.collection('rooms').doc(id).collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setMessages(snapshot.docs.map(function(doc){return doc.data();}));});}},[id]);var createChat=function createChat(){var roomName=prompt(\"Please enter name for Chat room :- \");if(roomName){firebase.collection('rooms').add({name:roomName});}};return!addNewChat?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/rooms/\".concat(id),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"https://avatars.dicebear.com/api/avataaars/Mouth=['smile']\".concat(Math.random()*5000,\".svg\")}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:(_messages$=messages[0])===null||_messages$===void 0?void 0:_messages$.message})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebarChat\",onClick:createChat,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Add New Chat\"})});}/* harmony default export */ var components_SidebarChat = (SidebarChat_SidebarChat);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(105);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/DonutLarge.js\nvar DonutLarge = __webpack_require__(57);\nvar DonutLarge_default = /*#__PURE__*/__webpack_require__.n(DonutLarge);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(58);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js\nvar MoreVert = __webpack_require__(45);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Search.js\nvar Search = __webpack_require__(46);\nvar Search_default = /*#__PURE__*/__webpack_require__.n(Search);\n\n// CONCATENATED MODULE: ./src/components/StateProvider.js\nvar StateContext=/*#__PURE__*/Object(react[\"createContext\"])();var StateProvider_StateProvider=function StateProvider(_ref){var reducer=_ref.reducer,initialState=_ref.initialState,children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateContext.Provider,{value:Object(react[\"useReducer\"])(reducer,initialState),children:children});};var StateProvider_useStateValue=function useStateValue(){return Object(react[\"useContext\"])(StateContext);};\n// CONCATENATED MODULE: ./src/components/Sidebar.js\nfunction Sidebar_Sidebar(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){var unsubscribe=firebase.collection('rooms').onSnapshot(function(snapshot){return setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__headerRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DonutLarge_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__searchContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Search or Start new chat\",type:\"text\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}/* harmony default export */ var components_Sidebar = (Sidebar_Sidebar);\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AttachFile.js\nvar AttachFile = __webpack_require__(59);\nvar AttachFile_default = /*#__PURE__*/__webpack_require__.n(AttachFile);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/InsertEmoticon.js\nvar InsertEmoticon = __webpack_require__(60);\nvar InsertEmoticon_default = /*#__PURE__*/__webpack_require__.n(InsertEmoticon);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(61);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./src/components/Chat.css\nvar components_Chat = __webpack_require__(88);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/components/Chat.js\nfunction Chat_Chat(){var _messages,_messages$timestamp;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),seed=_useState4[0],setSeed=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomName=_useState6[0],setRoomName=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),messages=_useState8[0],setMessages=_useState8[1];var _useParams=Object(react_router[\"f\" /* useParams */])(),roomId=_useParams.roomId;var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){if(roomId){firebase.collection('rooms').doc(roomId).onSnapshot(function(snapshot){return setRoomName(snapshot.data().name);});}setSeed(Math.floor(Math.random()*5000));firebase.collection('rooms').doc(roomId).collection('messages').orderBy('timestamp','asc').onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return doc.data();}));});},[roomId]);var sendMessage=function sendMessage(e){e.preventDefault();console.log(input);firebase.collection('rooms').doc(roomId).collection('messages').add({message:input,name:user.displayName,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setInput(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"https://avatars.dicebear.com/api/avataaars/Mouth=['smile']\".concat(seed,\".svg\")}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Last seen \",\" \",new Date((_messages=messages[messages.length-1])===null||_messages===void 0?void 0:(_messages$timestamp=_messages.timestamp)===null||_messages$timestamp===void 0?void 0:_messages$timestamp.toDate()).toUTCString()]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AttachFile_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__body\",children:messages.map(function(message){var _message$timestamp;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"chat__message \".concat(message.name===user.displayName&&\"chat__reciver\"),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__name\",children:message.name}),message.message,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__timestamp\",children:new Date((_message$timestamp=message.timestamp)===null||_message$timestamp===void 0?void 0:_message$timestamp.toDate()).toUTCString()})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:sendMessage,type:\"submit\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:input,onChange:function onChange(e){setInput(e.target.value);},placeholder:\"Type a message\",type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Send\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{})]})]});}/* harmony default export */ var src_components_Chat = (Chat_Chat);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\nvar objectDestructuringEmpty = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./src/components/Login.css\nvar Login = __webpack_require__(89);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(106);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(50);\n\n// CONCATENATED MODULE: ./src/components/reducer.js\nvar reducer_initialState={user:null};var actionTypes={SET_USER:\"SET_USER\"};var reducer_reducer=function reducer(state,action){switch(action.type){case actionTypes.SET_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.user});default:return state;}};/* harmony default export */ var components_reducer = (reducer_reducer);\n// CONCATENATED MODULE: ./src/components/Login.js\nfunction Login_Login(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2);Object(objectDestructuringEmpty[\"a\" /* default */])(_useStateValue2[0]);var dispatch=_useStateValue2[1];var signIn=function signIn(){auth.signInWithPopup(provider).then(function(result){dispatch({type:actionTypes.SET_USER,user:result.user});}).catch(function(error){return alert(error.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/200px-WhatsApp.svg.png\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login__text\",children:\"Sign in to WhatsApp\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:signIn,children:\"Sign In With Google\"})]})});}/* harmony default export */ var components_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app\",children:!user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Login,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Sidebar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/rooms/:roomId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_components_Chat,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_components_Chat,{})})]})]})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateProvider_StateProvider,{initialState:reducer_initialState,reducer:components_reducer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[91,1,2]]]);","inputSourceMap":{"version":3,"sources":["D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\index.css","D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\App.css","D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\components\\Sidebar.css","D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\components\\SidebarChat.css","D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\components\\Chat.css","D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\PM\\New folder\\WhatsApp Clone\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\PM\\New folder\\WhatsApp Clone\\src\\components\\Login.css","D:/PM/New folder/WhatsApp Clone/src/firebase.js","D:/PM/New folder/WhatsApp Clone/src/components/SidebarChat.js","D:/PM/New folder/WhatsApp Clone/src/components/StateProvider.js","D:/PM/New folder/WhatsApp Clone/src/components/Sidebar.js","D:/PM/New folder/WhatsApp Clone/src/components/Chat.js","D:/PM/New folder/WhatsApp Clone/src/components/reducer.js","D:/PM/New folder/WhatsApp Clone/src/components/Login.js","D:/PM/New folder/WhatsApp Clone/src/App.js","D:/PM/New folder/WhatsApp Clone/src/index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","db","firestore","auth","provider","GoogleAuthProvider","SidebarChat","id","name","addNewChat","useState","messages","setMessages","useEffect","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","createChat","roomName","prompt","add","Math","random","message","StateContext","createContext","StateProvider","reducer","initialState","children","useReducer","useStateValue","useContext","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","photoURL","room","Chat","input","setInput","seed","setSeed","setRoomName","useParams","roomId","floor","sendMessage","e","preventDefault","console","log","displayName","timestamp","FieldValue","serverTimestamp","Date","length","toDate","toUTCString","target","value","actionTypes","SET_USER","state","action","type","Login","signIn","signInWithPopup","then","result","catch","error","alert","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import firebase from 'firebase'\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: 'AIzaSyCA1K6ngVg2AynVVQk4Ou9Ug2aA05AR8p8',\n  authDomain: 'whatsappclone-a5c27.firebaseapp.com',\n  projectId: 'whatsappclone-a5c27',\n  storageBucket: 'whatsappclone-a5c27.appspot.com',\n  messagingSenderId: '877988151754',\n  appId: '1:877988151754:web:4bc313a9c07d027c0a4f33',\n  measurementId: 'G-80FMR6MTY2',\n}\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\nconst db = firebaseApp.firestore()\nconst auth = firebase.auth()\nconst provider = new firebase.auth.GoogleAuthProvider()\n\nexport { auth, provider }\nexport default db\n","import React, {useState, useEffect} from 'react'\nimport './SidebarChat.css'\n\nimport db from '../firebase';\n\nimport { Link } from 'react-router-dom';\nimport { Avatar, IconButton } from '@material-ui/core';\n\nfunction SidebarChat({id, name, addNewChat}) {\n    const [messages, setMessages] = useState(\"\");\n    \n    useEffect(() => {\n        if(id){\n            db.collection('rooms').doc(id).collection('messages').orderBy('timestamp','desc').onSnapshot(snapshot => {\n                setMessages(snapshot.docs.map((doc) => doc.data()))\n            })\n        }\n    }, [id]);\n\n    const createChat = () => {\n        const roomName = prompt(\"Please enter name for Chat room :- \")\n        if( roomName ){\n            db.collection('rooms').add({\n                name: roomName,\n            })\n        }\n    };\n\n    return (!addNewChat) ? (\n        <Link to={`/rooms/${id}`}>\n            <div className=\"sidebarChat\">\n                <Avatar src={`https://avatars.dicebear.com/api/avataaars/Mouth=['smile']${Math.random() * 5000}.svg`}/>\n                <div className=\"sidebarChat__info\">\n                    <h2>{name}</h2>\n                    <p>{messages[0]?.message}</p>\n                </div>\n            </div>  \n        </Link>\n    ):(\n        <div className=\"sidebarChat\" onClick={createChat}>\n            <h2>Add New Chat</h2>\n        </div>\n    )\n}\n\nexport default SidebarChat\n","import React, {createContext,useContext,useReducer} from 'react';\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children}) => (\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);","import React, {useState, useEffect} from 'react'\nimport './Sidebar.css'\n\nimport db from '../firebase';\n\nimport SidebarChat from './SidebarChat';\n\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { Icon } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { useStateValue } from './StateProvider';\n\n\nfunction Sidebar() {\n    const [rooms, setRooms] = useState([]);\n    const [{user}, dispatch] = useStateValue();\n\n    useEffect(()=>{\n        const unsubscribe = db.collection('rooms').onSnapshot(snapshot=>(\n            setRooms(snapshot.docs.map(doc => \n                ({\n                    id: doc.id,\n                    data: doc.data(),\n                })\n            ))\n        ))\n\n        return ()=>{\n            unsubscribe();\n        }\n    }, []);\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL} />\n                <div className=\"sidebar__headerRight\">\n                    < IconButton >\n                        <DonutLargeIcon />\n                    </ IconButton >\n\n                    < IconButton >\n                        <ChatIcon />\n                    </ IconButton>\n\n                    <IconButton>\n                        < MoreVertIcon />\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchIcon/>\n                    <input placeholder=\"Search or Start new chat\" type=\"text\" />\n                </div>\n            </div>\n            <div className=\"sidebar__chat\">\n                <SidebarChat addNewChat />\n                {rooms.map(room => (\n                    <SidebarChat key={room.id} id={room.id} name={room.data.name} /> \n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar\n","import React, {useState, useEffect} from 'react'\n\nimport { Avatar, IconButton } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport MicIcon from '@material-ui/icons/Mic';\n\nimport './Chat.css'\nimport { Search } from '@material-ui/icons';\nimport { useParams } from 'react-router-dom';\n\nimport db from '../firebase';\nimport firebase from 'firebase';\nimport { useStateValue } from './StateProvider';\n\nfunction Chat() {\n    const [input, setInput] = useState(\"\");\n    const [seed, setSeed] = useState(\"\");\n    const [roomName, setRoomName ] = useState(\"\");\n    const [messages, setMessages ] = useState([]);\n    const { roomId } = useParams();\n    const [{user}, dispatch] = useStateValue();\n\n    useEffect(()=>{\n        if(roomId){\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot=>(\n                setRoomName(snapshot.data().name)\n            ))\n        }\n        setSeed(Math.floor(Math.random() * 5000));\n\n        db\n            .collection('rooms')\n            .doc(roomId)\n            .collection('messages')\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(snapshot=>(setMessages(snapshot.docs.map((doc) => doc.data()))\n        ))\n    },[roomId]);\n\n    const sendMessage = (e) => {\n        e.preventDefault();\n        console.log( input );\n\n        db.collection('rooms').doc(roomId).collection('messages').add({\n            message: input,\n            name: user.displayName,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n\n        setInput(\"\");\n    }\n    return (\n        <div className=\"chat\">\n            <div className=\"chat__header\">\n                <Avatar src={`https://avatars.dicebear.com/api/avataaars/Mouth=['smile']${seed}.svg`}/>\n                <div className=\"chat__headerInfo\">\n                    <h3>{roomName}</h3>\n                    <p>Last seen {\" \"}\n                        {new Date(\n                            messages[messages.length - 1]?.\n                            timestamp?.toDate()\n                        ).toUTCString()}</p>\n                </div>\n                <div className=\"chat__headerRight\">\n                    <IconButton>\n                        <SearchIcon/>\n                    </IconButton>\n\n                    <IconButton>\n                        <AttachFileIcon/>\n                    </IconButton>\n                    \n                    <IconButton>\n                        <MoreVertIcon/>\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"chat__body\">\n                {messages.map((message) => (\n                    <p className={`chat__message ${ message.name===user.displayName && \"chat__reciver\"}`}>\n                        <span className=\"chat__name\">{message.name }</span>\n                        {message.message}\n                        <span className=\"chat__timestamp\">{new Date(message.timestamp?.toDate()).toUTCString()}</span>\n                    </p>\n                ))}\n            </div>\n            <div className=\"chat__footer\">\n                <InsertEmoticonIcon />\n                <form onSubmit={sendMessage} type=\"submit\">\n                    <input value={input} onChange={(e)=>{setInput(e.target.value)}} placeholder=\"Type a message\" type=\"text\"/>\n                    <button>Send</button>\n                </form>\n                <MicIcon />\n            </div>\n        </div>\n    )\n}\n\nexport default Chat\n","export const initialState = {\n    user:null,\n};\n\nexport const actionTypes = {\n    SET_USER : \"SET_USER\",\n};\n\nconst reducer = (state, action) => {\n    switch(action.type){\n        case actionTypes.SET_USER:\n            return {\n                ...state,\n                user: action.user,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import React from 'react'\nimport './Login.css'\n\nimport { Button } from '@material-ui/core'\nimport { auth, provider } from '../firebase'\nimport { useStateValue } from './StateProvider'\nimport { actionTypes } from './reducer'\n\nfunction Login() {\n  const [{}, dispatch] = useStateValue()\n  const signIn = () => {\n    auth\n      .signInWithPopup(provider)\n      .then((result) => {\n        dispatch({\n          type: actionTypes.SET_USER,\n          user: result.user,\n        })\n      })\n      .catch((error) => alert(error.message))\n  }\n  return (\n    <div className='login'>\n      <div className='login__container'>\n        <img\n          src='https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/200px-WhatsApp.svg.png'\n          alt=''\n        />\n        <div className='login__text'>Sign in to WhatsApp</div>\n        <Button onClick={signIn}>Sign In With Google</Button>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React, {useState, useEffect} from 'react'\nimport './App.css';\nimport Sidebar from './components/Sidebar';\nimport Chat from './components/Chat'\nimport Login from './components/Login';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport { useStateValue } from './components/StateProvider';\n\nfunction App() {\n  const [{user}, dispatch] = useStateValue();\n\n  return (\n    <div className=\"app\">\n      { !user?(\n        <Login />\n      ):(\n        <div className=\"app__body\">\n          <Router>\n            <Sidebar/>\n            <Switch>\n              <Route path=\"/rooms/:roomId\">\n                <Chat/>\n              </Route>\n              <Route path=\"/\">\n                <Chat/>\n              </Route>              \n            </Switch>            \n          </Router>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport reducer, {initialState} from './components/reducer';\nimport { StateProvider } from './components/StateProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}