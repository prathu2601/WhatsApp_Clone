{"ast":null,"code":"import _slicedToArray from\"D:\\\\PM\\\\Project\\\\WhatsApp Clone\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Sidebar.css';import db from'../firebase';import SidebarChat from'./SidebarChat';import{Avatar,IconButton}from'@material-ui/core';import DonutLargeIcon from'@material-ui/icons/DonutLarge';import ChatIcon from'@material-ui/icons/Chat';import MoreVertIcon from'@material-ui/icons/MoreVert';import{Icon}from'@material-ui/core';import SearchIcon from'@material-ui/icons/Search';import{useStateValue}from'./StateProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){var unsubscribe=db.collection('rooms').onSnapshot(function(snapshot){return setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__headerRight\",children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(DonutLargeIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ChatIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MoreVertIcon,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__searchContainer\",children:[/*#__PURE__*/_jsx(SearchIcon,{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search or Start new chat\",type:\"text\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__chat\",children:[/*#__PURE__*/_jsx(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/_jsx(SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}export default Sidebar;","map":{"version":3,"sources":["D:/PM/Project/WhatsApp Clone/src/components/Sidebar.js"],"names":["React","useState","useEffect","db","SidebarChat","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","Icon","SearchIcon","useStateValue","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"2HAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,eAAP,CAEA,MAAOC,CAAAA,EAAP,KAAe,aAAf,CAEA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CAEA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CAEA,OAASC,aAAT,KAA8B,iBAA9B,C,wFAGA,QAASC,CAAAA,OAAT,EAAmB,CACf,cAA0BZ,QAAQ,CAAC,EAAD,CAAlC,wCAAOa,KAAP,eAAcC,QAAd,eACA,mBAA2BH,aAAa,EAAxC,kDAAQI,IAAR,oBAAQA,IAAR,CAAeC,QAAf,oBAEAf,SAAS,CAAC,UAAI,CACV,GAAMgB,CAAAA,WAAW,CAAGf,EAAE,CAACgB,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAAAC,QAAQ,QAC1DN,CAAAA,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAC,GAAG,QACzB,CACGC,EAAE,CAAED,GAAG,CAACC,EADX,CAEGC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAFT,CADyB,EAArB,CAAD,CADkD,EAA1C,CAApB,CASA,MAAO,WAAI,CACPR,WAAW,GACd,CAFD,CAGH,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,KAAC,MAAD,EAAQ,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAAnB,EADJ,cAEI,aAAK,SAAS,CAAC,sBAAf,wBACI,KAAE,UAAF,wBACI,KAAC,cAAD,IADJ,EADJ,cAKI,KAAE,UAAF,wBACI,KAAC,QAAD,IADJ,EALJ,cASI,KAAC,UAAD,wBACI,KAAE,YAAF,IADJ,EATJ,GAFJ,GADJ,cAiBI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,0BAAf,wBACI,KAAC,UAAD,IADJ,cAEI,cAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFJ,GADJ,EAjBJ,cAuBI,aAAK,SAAS,CAAC,eAAf,wBACI,KAAC,WAAD,EAAa,UAAU,KAAvB,EADJ,CAEKb,KAAK,CAACS,GAAN,CAAU,SAAAK,IAAI,qBACX,KAAC,WAAD,EAA2B,EAAE,CAAEA,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EAAkBD,IAAI,CAACH,EAAvB,CADW,EAAd,CAFL,GAvBJ,GADJ,CAgCH,CAED,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport './Sidebar.css'\n\nimport db from '../firebase';\n\nimport SidebarChat from './SidebarChat';\n\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { Icon } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport { useStateValue } from './StateProvider';\n\n\nfunction Sidebar() {\n    const [rooms, setRooms] = useState([]);\n    const [{user}, dispatch] = useStateValue();\n\n    useEffect(()=>{\n        const unsubscribe = db.collection('rooms').onSnapshot(snapshot=>(\n            setRooms(snapshot.docs.map(doc => \n                ({\n                    id: doc.id,\n                    data: doc.data(),\n                })\n            ))\n        ))\n\n        return ()=>{\n            unsubscribe();\n        }\n    }, []);\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL} />\n                <div className=\"sidebar__headerRight\">\n                    < IconButton >\n                        <DonutLargeIcon />\n                    </ IconButton >\n\n                    < IconButton >\n                        <ChatIcon />\n                    </ IconButton>\n\n                    <IconButton>\n                        < MoreVertIcon />\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchIcon/>\n                    <input placeholder=\"Search or Start new chat\" type=\"text\" />\n                </div>\n            </div>\n            <div className=\"sidebar__chat\">\n                <SidebarChat addNewChat />\n                {rooms.map(room => (\n                    <SidebarChat key={room.id} id={room.id} name={room.data.name} /> \n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar\n"]},"metadata":{},"sourceType":"module"}